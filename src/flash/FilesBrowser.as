package {	import flash.events.*;		import flash.net.FileReferenceList;		class FilesBrowser {		private var dialog:FileReferenceList;		private var filter:Array;		private var files:FilesQueue;				public function FilesBrowser(queue:FilesQueue):void {			filter	= Utils.filter(queue.options.types);			files	= queue;		}				public function browse(e:Event = null):void {			try {				dialog = new FileReferenceList();				dialog.addEventListener(Event.SELECT, onSelect);				dialog.addEventListener(Event.CANCEL, onCancel);				dialog.browse(filter);			} catch (e:Error) {}		}				private function onSelect(e:Event = null):void {			files.select(dialog.fileList);			dialog = null;		}				private function onCancel(e:Event = null):void {			dialog = null;		}	}}